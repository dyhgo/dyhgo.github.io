<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        poj - This is DYH
      </title>
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  
  <meta name="theme-color" content="#000000" />
  
  <meta http-equiv="window-target" content="_top" />
  
  
  <meta name="description" content="poj" />
  <meta name="generator" content="Hugo 0.65.3 with theme pure" />
  <title>poj - This is DYH</title>
  
  
  <link rel="stylesheet" href="https://dyhgo.github.io/css/style.min.c4bc7071f132c964c2116bca53b392933f377e5ca7b7051ed245187c621a2d3e.css">
  
  <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css" async> 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" async>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" async>
  <meta property="og:title" content="poj" />
<meta property="og:description" content="poj" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dyhgo.github.io/2020/01/poj/" />
<meta property="article:published_time" content="2020-01-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-27T00:00:00+00:00" />
<meta itemprop="name" content="poj">
<meta itemprop="description" content="poj">
<meta itemprop="datePublished" content="2020-01-27T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-01-27T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="6122">



<meta itemprop="keywords" content="cpp,poj," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="poj"/>
<meta name="twitter:description" content="poj"/>

  <!--[if lte IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
    <![endif]-->

  <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->

</head>
  </head>

  
  

  <body class="main-center theme-purple" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://github.com/dyhgo" target="_blank">
            <img class="img-circle img-rotate" src="https://dyhgo.github.io/avatar.png" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">DYH</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">244882973@qq</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>HHU , Nanjing</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="Type something..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/posts/">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/categories/">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/tags/">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/about/">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content"><p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=571338636&auto=1&height=66"></iframe> 每日一题<br>31252<br>31333<br>31368<br>31573<br>31665<br>31875<br>31989<br>32093<br>32579<br>32711<br>33436<br>33440<br>33480<br>34204<br>34456<br>38361<br> 38471<br>38543<br>38752</p>
            </div>
        </div>
    </div>
</div>

      <div class="widget">
    <h3 class="widget-title"> Categories</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/abc/" class="category-list-link">abc</a><span class="category-list-count">18</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/algorithm/" class="category-list-link">algorithm</a><span class="category-list-count">10</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/android/" class="category-list-link">android</a><span class="category-list-count">8</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/anime/" class="category-list-link">anime</a><span class="category-list-count">2</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/codeforces/" class="category-list-link">codeforces</a><span class="category-list-count">12</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/cources/" class="category-list-link">cources</a><span class="category-list-count">2</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/game/" class="category-list-link">game</a><span class="category-list-count">6</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/hduoj/" class="category-list-link">hduoj</a><span class="category-list-count">3</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/linux/" class="category-list-link">linux</a><span class="category-list-count">1</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/note/" class="category-list-link">note</a><span class="category-list-count">15</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/nowcoder/" class="category-list-link">nowcoder</a><span class="category-list-count">8</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/poj/" class="category-list-link">poj</a><span class="category-list-count">1</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/problemlist/" class="category-list-link">problemlist</a><span class="category-list-count">2</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/python-web/" class="category-list-link">python-web</a><span class="category-list-count">1</span></li>
            <li class="category-list-item"><a href="https://dyhgo.github.io/categories/test/" class="category-list-link">test</a><span class="category-list-count">2</span></li>
        </ul>
    </div>
</div>
      <div class="widget">
    <h3 class="widget-title"> Tags</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/bfs/" class="tag-list-link">bfs</a><span
                    class="tag-list-count">5</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/binary/" class="tag-list-link">binary</a><span
                    class="tag-list-count">5</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/binary_search/" class="tag-list-link">binary_search</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/bit/" class="tag-list-link">bit</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/computational_geometry/" class="tag-list-link">computational_geometry</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/construct/" class="tag-list-link">construct</a><span
                    class="tag-list-count">6</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/counting/" class="tag-list-link">counting</a><span
                    class="tag-list-count">7</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/cpp/" class="tag-list-link">cpp</a><span
                    class="tag-list-count">57</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/cs/" class="tag-list-link">cs</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/data_structure/" class="tag-list-link">data_structure</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/dfs/" class="tag-list-link">dfs</a><span
                    class="tag-list-count">7</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/dp/" class="tag-list-link">dp</a><span
                    class="tag-list-count">13</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/git/" class="tag-list-link">git</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/graph/" class="tag-list-link">graph</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/graph_theory/" class="tag-list-link">graph_theory</a><span
                    class="tag-list-count">11</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/greedy/" class="tag-list-link">greedy</a><span
                    class="tag-list-count">14</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/hugo/" class="tag-list-link">hugo</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/java/" class="tag-list-link">java</a><span
                    class="tag-list-count">8</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/lca/" class="tag-list-link">lca</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/linux/" class="tag-list-link">linux</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/number_theory/" class="tag-list-link">number_theory</a><span
                    class="tag-list-count">13</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/poj/" class="tag-list-link">poj</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/prefix/" class="tag-list-link">prefix</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/problemlist/" class="tag-list-link">problemlist</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/python/" class="tag-list-link">python</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/search/" class="tag-list-link">search</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/segment_tree/" class="tag-list-link">segment_tree</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/sort/" class="tag-list-link">sort</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/string/" class="tag-list-link">string</a><span
                    class="tag-list-count">6</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/suffix/" class="tag-list-link">suffix</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/test/" class="tag-list-link">test</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/union_find/" class="tag-list-link">union_find</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://dyhgo.github.io/tags/xml/" class="tag-list-link">xml</a><span
                    class="tag-list-count">8</span></li>
            
        </ul>

    </div>
</div>
      
<div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://dyhgo.github.io/2020/07/abc173/" class="title">abc173</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-07-06 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-07-06</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://dyhgo.github.io/2020/07/%E6%9F%90%E4%B8%8D%E7%A7%91%E5%AD%A6%E7%9A%84%E6%9A%91%E5%81%87%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/" class="title">某不科学的暑假做题记录</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-07-04 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-07-04</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://dyhgo.github.io/2020/06/abc172/" class="title">abc172</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-06-28 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-06-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://dyhgo.github.io/2020/06/%E8%A5%BF%E5%8D%97%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E7%AC%AC%E5%8D%81%E5%85%AD%E5%B1%8Aacm%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9B%E6%9A%A8%E7%BB%B5%E9%98%B3%E5%B8%82%E9%82%80%E8%AF%B7%E8%B5%9B/" class="title">西南科技大学第十六届ACM程序设计竞赛暨绵阳市邀请赛</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-06-28 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-06-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://dyhgo.github.io/2020/06/abc171/" class="title">abc171</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-06-22 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-06-22</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <h4 class="toc-title">Catalogue</h4>
    <nav id="toc" class="js-toc toc">

    </nav>
  </div>
</aside>
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/2020/01/poj/"
    >poj</a
  >
</h1>

      <div class="article-meta">
        
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="https://dyhgo.github.io/2020/01/poj/" class="article-date">
  <time datetime="2020-01-27 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-01-27</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/categories/poj/"> poj </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/tags/cpp/"> cpp </a>
    <a class="article-tag-link" href="/tags/poj/"> poj </a>
  </span>

	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>
        <span class="post-comment"><i class="icon icon-comment"></i>&nbsp;<a href="/2020/01/poj/#comments"
            class="article-comment-link">Comments</a></span>
		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 6122words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Count: 13minutes </span>
      </div>
    </div>
    <div class="article-entry marked-body js-toc-content" itemprop="articleBody">
      <h2 id="线段相交">线段相交</h2>
<p><a href="http://poj.org/problem?id=1127">1127</a></p>
<h3 id="题意">题意</h3>
<p>判断两条线段是否相交，对于N条线段，间接相交也算相交。对于每次询问，判
断给定的两条线段是否相交</p>
<h3 id="题解">题解</h3>
<p>这个题目分成两部分，一部分是基础的判断两条线段是否相交，用一个bool数组来存储信息。另一部分是判断间接相交，可以用floyd-warshall（比较巧妙）或者并查集.第一部分就是套模板。</p>
<p>点可以用结构体存储（推荐），线段也可以用结构体存储或pair</p>
<p>判断两条线段相交有多重模板，比如判是否平行、重合、求两条直线交点，判断交点是否在线段上，还有ccw（counter clock wise）函数，可参考discuss</p>
<p>比较常见的是<!-- raw HTML omitted -->快速排斥<!-- raw HTML omitted -->和<!-- raw HTML omitted -->跨立检验</p>
<p>以线段为对角线，作平行于x轴、y轴的射线，使之形成矩形，若两个矩形没有相交，则线段不相交（可以排除大部分）</p>
<p>不满足快速排斥进入跨立检验,判断两个点是否在线段的两侧（即跨立），判断方法是外积的符号是否相反，<!-- raw HTML omitted -->等于0说明在线上</p>
<p>如果两两互相跨立，则线段相交</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;algorithm&gt;
using namespace std;
int n;
bool con[15][15];
int p,q;
struct point
{
	double x,y;
	//point(double a,double b) : x(a),y(b) {}            //!!!!!会发生编译错误 
};
pair&lt;point,point&gt; seg[15];
double dir(point a,point b,point c) //用外积 
{
	return (c.x-a.x)*(c.y-b.y) - (c.y-a.y)*(c.x-b.x); 
}
bool judge(pair&lt;point,point&gt; p1,pair&lt;point,point&gt; p2)
{
	point a,b,c,d;
	a=p1.first; 
	b=p1.second;
	c=p2.first;
	d=p2.second;
	//快速排斥
	if(min(a.x,b.x)&gt;max(c.x,d.x) or min(c.x,d.x)&gt;max(a.x,b.x) or
	   min(a.y,b.y)&gt;max(c.y,d.y) or min(c.y,d.y)&gt;max(a.y,b.y))
	   return false;
	//跨立检验 (int 可改成double)
	else
	{
		int d1,d2,d3,d4;
		d1=dir(a,b,c);
		d2=dir(a,b,d);
		d3=dir(c,d,a);
		d4=dir(c,d,b);
		return d1*d2&lt;=0 and d3*d4&lt;=0;    //!!!
	}
}
int main()
{
	while(scanf(&quot;%d&quot;,&amp;n)==1 and n!=0)
	{
		for(int i=1;i&lt;=n;i++) con[i][i]=true;
		for(int i=1;i&lt;=n;i++)
			scanf(&quot;%lf%lf%lf%lf&quot;,&amp;seg[i].first.x,&amp;seg[i].first.y,&amp;seg[i].second.x,&amp;seg[i].second.y);
		for(int i=1;i&lt;=n;i++)
			for(int j=1;j&lt;i;j++)
			{
				if(judge(seg[i],seg[j])) con[i][j]=con[j][i]=true;
				else con[i][j]=con[j][i]=false;
			}
		for(int k=1;k&lt;=n;k++)                                               //Floyd-Warshall算法或并查集都可以 
			for(int i=1;i&lt;=n;i++)
				for(int j=1;j&lt;=n;j++)
					con[i][j] |= con[i][k] and con[k][j];
		while(scanf(&quot;%d%d&quot;,&amp;p,&amp;q)==2 and p!=0)
			puts(con[p][q] ? &quot;CONNECTED&quot; : &quot;NOT CONNECTED&quot;);
	}
	return 0;
}
</code></pre>
<h3 id="艰难的debug">艰难的debug</h3>
<p>计算几何有些很麻烦，代码太相似，debug比较难，有时还要考虑精度问题（即误差eps）</p>
<p>debug一个上午</p>
<p>写完代码CE，seg[i].first.x错误，把stl_pair.h中的代码小改一下可以通过，但放到oj上肯定不行，怕污染代码还是不这样做。最后发现<!-- raw HTML omitted -->把构造函数去掉<!-- raw HTML omitted -->可以通过</p>
<p>自测，最后一个样例没过，发现是边界情况，<!-- raw HTML omitted -->把跨立检验最后一步的等号加上</p>
<p>自测，中间有一个样例没过，作图，把样例分离出来，过了。说明可能不是judge函数的问题。</p>
<p>单测样例，没过，说明错误不是受别组影响</p>
<p>编译器debug，把函数内的局部变量，变成全局变量，add watch</p>
<p>发现d1 d2 d3 d4都等于0，a.x a.y b.x b.y  &hellip;.有问题</p>
<p>继续add watch</p>
<p>发现seg[1].first的内容就有问题，是double边界数，然后发现最终问题 %d 赋值给了double型变量</p>
<h3 id="总结">总结</h3>
<p>提高debug能力，少犯白痴错误。</p>
<p>写代码要有清晰性和完整性，这样鲁棒性更强。</p>
<p>===========================================================================================================</p>
<h2 id="并查集">并查集</h2>
<p><a href="http://poj.org/problem?id=1182">1182</a></p>
<h3 id="题解-1">题解</h3>
<p>并查集</p>
<p>看到信息的内容，有并查集的影子</p>
<p>依次遍历信息，对于每一条信息，因为没有说种类，所以设置三个种类，把每一种情况都加上去，比如：x和y属于同一类，则合并x和y属于A类，B类，C类</p>
<p>判断是否是错误信息，只要判断是否与前面信息矛盾即可</p>
<p>并查集的时间复杂度O(α(n)) α(n)是阿克曼函数的反函数，比O(lgn)还快</p>
<p>代码如下（并查集的模板 + 并查集的应用）</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
int T[100005],X[100005],Y[100005];
int n,k;
//union find
int par[150005];     //父亲 
int rankk[150005];    //树的高度,!!!元素是根 （优化用）//reference to &quot;rank&quot; is ambiguous
//初始化，要用并查集前要初始化
void init(int n)      
{
	for(int i=0;i&lt;n;i++)
	{
		par[i]=i;
		rankk[i]=0;
	}
} 
//查询树的根
int find(int x)
{
	if(par[x]==x) return x;
	else return par[x]=find(par[x]);     //return find(par[x]);也可以 。par[x]=find(par[x]) 是路径压缩优化  
} 
//合并x,y //优化高度（如果rankk不同，那么从rankk小的向大的连边 
void unite(int x,int y)
{
	x=find(x);
	y=find(y);
	if(x==y) return ;                  //判断是否已在同一个集合内
	
	if(rankk[x]&lt;rankk[y]) par[x]=y;      //!!!利用它们的 根 进行合并 
	else
	{
		par[y]=x;
		if(rankk[x]==rankk[y]) rankk[x]++;     //这时候rankk还是原来的高度 
	 } 
} 
//判断是否在同一个集合内
bool  same(int x,int y)
{
	return find(x)==find(y);
}
int main()
{
	cin&gt;&gt;n&gt;&gt;k;
	for(int i=0;i&lt;k;i++)
		scanf(&quot;%d%d%d&quot;,&amp;T[i],&amp;X[i],&amp;Y[i]);
		
	init(n*3);
	
	int ans=0;
	for(int i=0;i&lt;k;i++)
	{
		int t=T[i],x=X[i]-1,y=Y[i]-1;
		
		//错误的编号
		if(x&lt;0 || x&gt;=n || y&lt;0 || y&gt;=n)
		{
			ans++;
			continue;
		} 
		else if(t==1)                           //第一种类型
		{
			if(same(x,y+n) || same(x,y+2*n)) ans++;           //判断是否矛盾 //!!!只需要判断x在A类就行，因为每次unite都
			                                                  //涵盖所有情况，它们是平行影响的，判断一个就相当于判断所有 
			else
			{
				unite(x,y);
				unite(x+n,y+n);
				unite(x+n+n,y+n+n);
			}
		} 
		else if(t==2)
		{
			if(same(x,y) || same(x,y+2*n)) ans++;
			else
			{
				unite(x,y+n);
				unite(x+n,y+2*n);
				unite(x+2*n,y);
			}
		}
	}
	cout&lt;&lt;ans&lt;&lt;endl;
	return 0;
}
</code></pre>
<p>===========================================================================================================</p>
<h2 id="完全背包问题">完全背包问题</h2>
<p><a href="http://poj.org/problem?id=1384">1384</a></p>
<h3 id="题解-2">题解</h3>
<p>题意：完全背包问题求最小价值</p>
<p><!-- raw HTML omitted -->时间复杂度O(nm)</p>
<p>二维数组如下，MLE</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;algorithm&gt;
using namespace std;
int dp[505][10005];
int v[505];
int w[505];
int t;
int e,f;
int n,m;
const int inf=0x3f3f3f3f;
int main()
{
	cin&gt;&gt;t;
	while(t--)
	{
		cin&gt;&gt;e&gt;&gt;f;
		m=f-e;
		cin&gt;&gt;n;
		//init
		fill(dp[0],dp[0]+n*(m+1),inf);
		dp[0][0]=0;
		for(int i=1;i&lt;=n;i++)
			scanf(&quot;%d%d&quot;,&amp;v[i],&amp;w[i]);
		for(int i=1;i&lt;=n;i++)
			for(int j=0;j&lt;=m;j++)
				if(j&lt;w[i])
					dp[i][j]=dp[i-1][j];
				else
					dp[i][j]=min(dp[i-1][j],dp[i][j-w[i]]+v[i]);
		if(dp[n][m]!=inf)
			printf(&quot;The minimum amount of money in the piggy-bank is %d.\n&quot;,dp[n][m]);
		else
		    printf(&quot;This is impossible.\n&quot;);
	}
	return 0;
}
</code></pre>
<p>改一维数组，AC</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;algorithm&gt;
using namespace std;
int dp[10005];
int v[505];
int w[505];
int t;
int e,f;
int n,m;
const int inf=0x3f3f3f3f;
int main()
{
	cin&gt;&gt;t;
	while(t--)
	{
		cin&gt;&gt;e&gt;&gt;f;
		m=f-e;
		cin&gt;&gt;n;
		//init
		fill(dp,dp+m+1,inf);     //!!!!!
		dp[0]=0;
		for(int i=1;i&lt;=n;i++)
			scanf(&quot;%d%d&quot;,&amp;v[i],&amp;w[i]);
		for(int i=1;i&lt;=n;i++)
			for(int j=w[i];j&lt;=m;j++)
					dp[j]=min(dp[j],dp[j-w[i]]+v[i]);
		if(dp[m]!=inf)
			printf(&quot;The minimum amount of money in the piggy-bank is %d.\n&quot;,dp[m]);
		else
		    printf(&quot;This is impossible.\n&quot;);
	}
	return 0;
}
</code></pre>
<p><!-- raw HTML omitted -->这个地方要注意 fill 到 dp+m+1</p>
<p>滚动数组好啊</p>
<p>AC代码</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;algorithm&gt;
using namespace std;
int dp[2][10005];
int v[505];
int w[505];
int t;
int e,f;
int n,m;
const int inf=0x3f3f3f3f;
int main()
{
	//freopen(&quot;input.txt&quot;,&quot;r&quot;,stdin);
	cin&gt;&gt;t;
	while(t--)
	{
		cin&gt;&gt;e&gt;&gt;f;
		m=f-e;
		cin&gt;&gt;n;
		//init
		fill(dp[0],dp[0]+2*(m+1),inf);
		dp[0][0]=0;
		for(int i=1;i&lt;=n;i++)
			scanf(&quot;%d%d&quot;,&amp;v[i],&amp;w[i]);
		for(int i=1;i&lt;=n;i++)
			for(int j=0;j&lt;=m;j++)
				if(j&lt;w[i])
					dp[i&amp;1][j]=dp[(i-1)&amp;1][j];
				else
					dp[i&amp;1][j]=min(dp[(i-1)&amp;1][j],dp[i&amp;1][j-w[i]]+v[i]);
		if(dp[n&amp;1][m]!=inf)
			printf(&quot;The minimum amount of money in the piggy-bank is %d.\n&quot;,dp[n&amp;1][m]);
		else
		    printf(&quot;This is impossible.\n&quot;);
	}
	return 0;
}
</code></pre>
<h3 id="总结-1">总结</h3>
<p>这种类型的dp有两个重点，初始化边界条件，找递推式</p>
<p>求最小，一般初始化为inf，dp[0][0]=0;</p>
<p>求最大，一般初始化为0</p>
<p>必要时可用滚动数组</p>
<p>完全背包递推式的证明（这里证明求最大值的情况）</p>
<p>dp[i][j]=max{dp[i-1][j-k*w[i]]+k*v[i] | k&gt;=0}</p>
<p>=max(dp[i-1][j] , max{dp[i-1][j-k*w[i]]+k*v[i] | k&gt;=1}</p>
<p>=max(dp[i-1][j] , max{dp[i-1][(j-w[i])-k*w[i]]+k*v[i] | k&gt;=0}+v[i])</p>
<p>=max(dp[i-1][j] , dp[i][j-w[i]]+v[i])</p>
<p><!-- raw HTML omitted -->这种分离思想很常见</p>
<p>===========================================================================================================</p>
<h2 id="线性dp-lcs">线性dp LCS</h2>
<p><a href="http://poj.org/problem?id=1458">1458</a></p>
<h3 id="题解-3">题解</h3>
<p>水一题线性dp裸题&ndash;LCS(longest common subsequence)</p>
<p>因为没加string头文件CE了3次（被error误导了）</p>
<p>ac代码</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;
#include&lt;string&gt;
using namespace std;
string s1,s2;
int dp[1000][1000];  //dp[i][j] 表示s1到i，s2到j的lcs长度
int len1,len2; 
int lcs(string s1,string s2)
{
	len1=s1.length();
	len2=s2.length();
	memset(dp,0,sizeof(dp));
	for(int i=0;i&lt;len1;i++)
		for(int j=0;j&lt;len2;j++)
			if(s1[i]==s2[j])
				dp[i+1][j+1]=dp[i][j]+1;
			else
				dp[i+1][j+1]=max(dp[i+1][j],dp[i][j+1]);
	return dp[len1][len2];
}
int main()
{
	//freopen(&quot;input.txt&quot;,&quot;r&quot;,stdin);
	while(cin&gt;&gt;s1&gt;&gt;s2)
		cout&lt;&lt;lcs(s1,s2)&lt;&lt;endl;		
	return 0;
}
</code></pre>
<p>===========================================================================================================</p>
<h2 id="凸包">凸包</h2>
<p><a href="http://poj.org/problem?id=2187">2187</a></p>
<h3 id="题意-1">题意</h3>
<p>平面上有n个不重合的点，求两个点的最远距离</p>
<h3 id="题解-4">题解</h3>
<p>由于点的个数为50000，所以暴力超时</p>
<p>构造凸包，遍历凸包上的点即可</p>
<p>坐标范围在n内的凸多边形（顶点在格点上）的顶点个数最多为O（√n）（尝试不严谨的画图证明，和公差为1的等差数列求和有关，所以是平方关系）</p>
<p>所以构造凸包后，暴力遍历的时间复杂度为O（n）</p>
<p>构造凸包可以用模板</p>
<p>此处介绍的是<!-- raw HTML omitted -->时间复杂度O(nlgn）的graham扫描法</p>
<p><!-- raw HTML omitted -->外积是很常用的工具，此处利用外积的坐标公式的符号判断凹凸性</p>
<p>可以对点先排序，然后按逆时针方向依次遍历点，先构造凸包的下侧，到达最右端时，构造凸包的上侧</p>
<p>代码如下</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
using namespace std;
int n;
struct point
{
	double x,y;
}ps[50005];
double s_dist(point a,point b)
{
	double dx=a.x-b.x,dy=a.y-b.y;
	return dx*dx+dy*dy;
}
bool cmp(point a,point b)
{
	if(a.x!=b.x) return a.x&lt;b.x;
	return a.y&lt;b.y;
}
double out_product(double x1,double y1,double x2,double y2)
{
	return x1*y2-x2*y1;
}
vector&lt;point&gt; convex_hull(point* ps,int n)
{
	sort(ps,ps+n,cmp);                                  //很多题目都需要对乱序输入排序
	int k=0;                                             // 凸包点的index 
	vector&lt;point&gt; qs(n*2);                               //构造凸包
	//逆时针构造凸包
	//构造凸包的下侧
	for(int i=0;i&lt;n;i++)
	{
		while(k&gt;1 &amp;&amp; out_product(qs[k-1].x-qs[k-2].x , qs[k-1].y-qs[k-2].y , ps[i].x-qs[k-1].x , ps[i].y-qs[k-1].y)&lt;=0) k--;
		qs[k++]=ps[i];
 	} 
	//继续构造凸包的上侧
	for(int i=n-2,t=k;i&gt;=0;i--)
	{
		while(k&gt;t &amp;&amp; out_product(qs[k-1].x-qs[k-2].x , qs[k-1].y-qs[k-2].y , ps[i].x-qs[k-1].x , ps[i].y-qs[k-1].y)&lt;=0) k--;  //这里有个k&gt;t 和 k&gt;1效果一样 
		qs[k++]=ps[i]; 
    } 
    qs.resize(k-1);
    return qs;
}
int main()
{
	cin&gt;&gt;n;
	for(int i=0;i&lt;n;i++)
	{
		point p;
		scanf(&quot;%lf%lf&quot;,&amp;p.x,&amp;p.y);
		ps[i]=p;
	}
	vector&lt;point&gt; qs=convex_hull(ps,n);
	double res=0;
	for(int i=0;i&lt;qs.size();i++)
		for(int j=0;j&lt;i;j++)
			res=max(res,s_dist(qs[i],qs[j]));
	cout&lt;&lt;(int)res&lt;&lt;endl;                                   //!!!不加int 或不用printf(&quot;%.0lf\n&quot;,res); 就会WA 
	return 0;
}
</code></pre>
<p>还有一种时间复杂度更低的方法</p>
<p><!-- raw HTML omitted -->convex hull + rotating calipers</p>
<p>这是一种常见、经典的方法</p>
<p>对踵点：如果凸包上过两个点画两条平行线，使凸包所有的点都夹在这两条线之间，这两个点就叫对踵点，称为一对对踵点对</p>
<p>对于一个凸包，最远距离一定是对踵点对</p>
<p>所以先找一对对踵点对，根据判断凹凸性，确定哪个点向后面的点移动（如图）（图懒得画），宏观来看就是对踵点对的连线旋转了180°</p>
<p>这样就总时间复杂度就是O（√n）</p>
<p>代码如下</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
using namespace std;
int n;
struct point
{
	double x,y;
}ps[50005];
inline double s_dist(point a,point b)
{
	double dx=a.x-b.x,dy=a.y-b.y;
	return dx*dx+dy*dy;
}
bool cmp(point a,point b)
{
	if(a.x!=b.x) return a.x&lt;b.x;
	return a.y&lt;b.y;
}
inline double out_product(double x1,double y1,double x2,double y2)
{
	return x1*y2-x2*y1;
}
vector&lt;point&gt; convex_hull(point* ps,int n)
{
	sort(ps,ps+n,cmp);                                  //很多题目都需要对乱序输入排序
	int k=0;                                             // 凸包点的index 
	vector&lt;point&gt; qs(n*2);                               //构造凸包
	//逆时针构造凸包
	//构造凸包的下侧
	for(int i=0;i&lt;n;i++)
	{
		while(k&gt;1 &amp;&amp; out_product(qs[k-1].x-qs[k-2].x , qs[k-1].y-qs[k-2].y , ps[i].x-qs[k-1].x , ps[i].y-qs[k-1].y)&lt;=0) k--;
		qs[k++]=ps[i];
 	} 
	//继续构造凸包的上侧
	for(int i=n-2,t=k;i&gt;=0;i--)
	{
		while(k&gt;t &amp;&amp; out_product(qs[k-1].x-qs[k-2].x , qs[k-1].y-qs[k-2].y , ps[i].x-qs[k-1].x , ps[i].y-qs[k-1].y)&lt;=0) k--;  //这里有个k&gt;t 和 k&gt;1效果一样 
		qs[k++]=ps[i]; 
    } 
    qs.resize(k-1);
    return qs;
}
int main()
{
	cin&gt;&gt;n;
	for(int i=0;i&lt;n;i++)
	{
		point p;
		scanf(&quot;%lf%lf&quot;,&amp;p.x,&amp;p.y);
		ps[i]=p;
	}
	
	vector&lt;point&gt; qs=convex_hull(ps,n);
	double res=0;                               
	int m=qs.size();
	if(m==2)      //特殊处理凸包退化情况
	{
		cout&lt;&lt;(int)s_dist(qs[0],qs[1])&lt;&lt;endl; 
		return 0; 
	} 
	int i=0,j=0;  //表示左右俩对踵点
	//求x轴方向上的对踵点对
	for(int k=0;k&lt;m;k++)
		if(cmp(qs[j],qs[k])) j=k;
	//rotating calipers
	int si=i,sj=j;
	while(!(i==sj &amp;&amp; j==si))                         //旋转180°，注意判断条件 
	{
		//cout&lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt;j&lt;&lt;endl;
		res=max(res,s_dist(qs[i],qs[j]));           //这条语句放在while循环体的前端，可以把x轴方向上的对踵点对都比较
		//通过外积判断凹凸性，判断是i移到i+1，还是j移到j+1
		if(out_product(qs[(i+1)%m].x-qs[i].x , qs[(i+1)%m].y-qs[i].y , qs[(j+1)%m].x-qs[j].x , qs[(j+1)%m].y-qs[j].y)&lt;0)  //&lt;0 或&lt;=0都可以
			i=(i+1)%m;                                    //把m错写成n,tle好久 
		else
			j=(j+1)%m;                                   //!!!要%m 这样转一圈才能回到起点，退出循环 
	}                                                 //之前添加的debug条件忘记屏蔽，WA了特久 
	cout&lt;&lt;(int)res&lt;&lt;endl;
	return 0;
}
</code></pre>
<p>===========================================================================================================</p>
<h2 id="bfs-dfs">bfs dfs</h2>
<p><a href="http://poj.org/problem?id=2386">2386</a></p>
<h3 id="题解-5">题解</h3>
<p>bfs dfs都行
基础dfs
<!-- raw HTML omitted --><strong>时间复杂度 O(mn)</strong></p>
<pre><code class="language-cpp">//dfs
#include&lt;iostream&gt;
using namespace std;
char field[105][105];
int n,m;
void dfs(int x,int y)
{
	field[x][y]='.';
	for(int dx=-1;dx&lt;=1;dx++)
		for(int dy=-1;dy&lt;=1;dy++)
		{
			int nx=x+dx,ny=y+dy;
			if(0&lt;=nx &amp;&amp; nx&lt;n &amp;&amp; 0&lt;=ny &amp;&amp; ny&lt;m &amp;&amp; field[nx][ny]=='W')
				dfs(nx,ny);
		}
	return ;
}
int main()
{
	ios::sync_with_stdio(false);
	cin.tie(0);
	cin&gt;&gt;n&gt;&gt;m;
	for(int i=0;i&lt;n;i++)
		for(int j=0;j&lt;m;j++)
		{
			cin&gt;&gt;field[i][j];
		}
	int res=0;
	for(int i=0;i&lt;n;i++)
		for(int j=0;j&lt;m;j++)
		{
			if(field[i][j]=='W') 
			{
				dfs(i,j);
				res++;
			}
		}
	cout&lt;&lt;res&lt;&lt;endl;
	return 0;
}
</code></pre>
<h3 id="总结-2">总结</h3>
<p>经典dfs就是递归思想
如果图外面是可达且连通的，就在图外面加一圈</p>
<p>===========================================================================================================</p>
<h2 id="状态压缩dp">状态压缩dp</h2>
<p><a href="http://poj.org/problem?id=2686">2686</a></p>
<h3 id="题解-6">题解</h3>
<p>TSP问题</p>
<p>不能在多项式时间内求解</p>
<p>暴力求解是阶乘数量级的</p>
<p>在数据不是很大的时候可以用状态压缩dp</p>
<p>对于这道题时间复杂度O((2^n)*m*m*n)</p>
<p>基础状态压缩dp</p>
<p>以3.667为例</p>
<p>道路图为</p>
<p><img src="https://img-blog.csdnimg.cn/20200304121941941.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzM3Njk3,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>dp[S][x]</p>
<p>S表示剩余车票集合</p>
<p>x表示从a出发到达x（单源最短路）</p>
<p>dp表示最小花费</p>
<p><img src="https://img-blog.csdnimg.cn/20200304122335132.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzM3Njk3,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>这样就变成DAG求最短路问题，不需要使用dijkstra算法，用dp就可以</p>
<p>dp的初始条件是</p>
<p>dp=inf   , dp[U][a]=0</p>
<p>dp的状态转移方程</p>
<p>dp[S/{i}][u] = min{dp[S][v]+d[v][u]/t[i] (i∈S)}</p>
<p>将集合用整数的二进制表示</p>
<p>根据状态转移方程，可以用记忆化搜索+递归</p>
<p>这个问题可以用循环嵌套求解</p>
<p>约束条件很重要</p>
<p>这道题的约束条件是“车票”</p>
<p>如果题目要求每个点只能走一遍的话</p>
<p>那么又有一个约束条件是“点”（即判断这个点是否走过）</p>
<p>循环嵌套的写法就是按照套路</p>
<p>遍历所有子集，嵌套遍历每种子集的操作情况</p>
<p>遍历集合的所有情况（逆序）</p>
<p>嵌套遍历每个点</p>
<p>再嵌套遍历每个点</p>
<p>依题意再嵌套遍历剩下的所有车票（顺序可与上一步调换）</p>
<p>最后遍历所有的dp[S&rsquo;][b] S'⊆U，获得最小值</p>
<p>ac代码</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;
#define maxn 8
#define maxm 30
#define inf 0x3f3f3f3f
using namespace std;
int n,m,p,a,b;
int t[maxn];
int d[maxm][maxm];
double dp[1&lt;&lt;maxn][maxm];    //dp[剩下的车票集合][目标城市]=从a到达目标城市的最短时间 
int main()
{
	while(scanf(&quot;%d%d%d%d%d&quot;,&amp;n,&amp;m,&amp;p,&amp;a,&amp;b)==5 and !(n==0 and m==0 and p==0 and a==0 and b==0))
	{
		for(int i=0;i&lt;n;i++) scanf(&quot;%d&quot;,&amp;t[i]);
		memset(d,-1,sizeof(d));
		int temp1,temp2,temp3;
		for(int i=0;i&lt;p;i++)
		{
			scanf(&quot;%d%d%d&quot;,&amp;temp1,&amp;temp2,&amp;temp3);
			d[temp1-1][temp2-1]=temp3;
			d[temp2-1][temp1-1]=temp3;
		}
		
		for(int i=0;i&lt;1&lt;&lt;n;i++) fill(dp[i],dp[i]+m,inf);           //注意这里要用循环初始化二维数组 //inf是因为要用到min 
		dp[(1&lt;&lt;n)-1][a-1]=0;
		double res=inf;                                            //inf是因为要用到min 
		for(int s=(1&lt;&lt;n)-1;s&gt;=0;s--)
		{
			res=min(res,dp[s][b-1]);
			for(int v=0;v&lt;m;v++)
			{
				for(int u=0;u&lt;m;u++)
				{
					if(d[v][u]&gt;=0)
					{
						for(int i=0;i&lt;n;i++)
						{
							if(s&gt;&gt;i&amp;1)
							{
								dp[s&amp;~(1&lt;&lt;i)][u]=min(dp[s&amp;~(1&lt;&lt;i)][u],dp[s][v]+(double)d[u][v]/t[i]);
							}
						}
					}
				}
			}
		}
		if(res==inf) printf(&quot;Impossible\n&quot;);
		else printf(&quot;%.3lf\n&quot;,res);                //discuss里面说poj用lf会wa,用f就ac ，但我试了lf也可以ac
	}
	return 0;
}

</code></pre>
<p>===========================================================================================================</p>
<h2 id="强连通分量">强连通分量</h2>
<p><a href="http://poj.org/problem?id=2816">2816</a></p>
<h3 id="题解-7">题解</h3>
<p>如果一头牛被其他所有牛认为是红牛，那么和它在同一个强连通分量的所有牛都</p>
<p>是红牛，所以scc分解，拓扑序最后一个强连通分量是红牛群，最后检查这个连通</p>
<p>块中的一头红牛是否对所有牛可达</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;cstring&gt;
using namespace std;
int V,m;
int t1,t2;   
#define maxv 10005                     
vector&lt;int&gt; G[maxv];           
vector&lt;int&gt; rG[maxv];
vector&lt;int&gt; vs;                  
bool used[maxv];                
int cmp[maxv];                   

void add_edge(int from,int to){
	G[from].push_back(to);
	rG[to].push_back(from);
}

void dfs(int v){
	used[v]=true;
	for(int i=0;i&lt;G[v].size();i++){
		if(!used[G[v][i]]) dfs(G[v][i]);
	}
	vs.push_back(v);
}

void rdfs(int v,int k){
	used[v]=true;
	cmp[v]=k;
	for(int i=0;i&lt;rG[v].size();i++){
		if(!used[rG[v][i]]) rdfs(rG[v][i],k);
	}
}

int kosaraju_scc(){
	memset(used,0,sizeof(used));
	vs.clear();
	for(int i=0;i&lt;V;i++) if(!used[i]) dfs(i);
	memset(used,0,sizeof(used));
	int k=0;
	for(int i=vs.size()-1;i&gt;=0;i--) if(!used[vs[i]]) rdfs(vs[i],k++);
	return k;
}
int main(){
	cin&gt;&gt;V&gt;&gt;m;
	while(m--){
		cin&gt;&gt;t1&gt;&gt;t2;
		add_edge(t1-1,t2-1);
	}
	int k=kosaraju_scc();
	int u=0,num=0;                     //备选个数 u取得正序最后一个 
	for(int i=0;i&lt;V;i++){
		if(cmp[i]==k-1){
			u=i;
			num++;
		}
	}
	memset(used,0,sizeof(used));
	rdfs(u,0);                         //反向判断是否都可达
	for(int i=0;i&lt;V;i++){
		if(!used[i]){
			num=0;
			break;
		}
	} 
	cout&lt;&lt;num&lt;&lt;endl;
	return 0;
}
</code></pre>
<p>===========================================================================================================</p>
<h2 id="扫描线">扫描线</h2>
<p><a href="http://poj.org/problem?id=2932">2932</a></p>
<h3 id="题意-2">题意</h3>
<p>坐标上有n个不相交的圆，求最外层圆的index</p>
<h3 id="题解-8">题解</h3>
<p>由于数据规模，暴力超时</p>
<p><!-- raw HTML omitted -->sweeping line</p>
<p>一般有两种，平移扫描，环形扫描</p>
<p>对于这一题，从左到右平移扫描</p>
<p>用一个容器维护每个圆的左右两个端点，代表扫描到圆和扫描出圆</p>
<p>对于扫描到的圆，判断它是否在别的圆内</p>
<p>只需要判断上下最近的两个圆（可画图证明，不严谨）</p>
<p>用一个容器维护还没扫描出的最外圆，可以排序，再查找。<!-- raw HTML omitted -->总时间复杂度O(nlgn)</p>
<p>可以选用set</p>
<p>当扫描到右时，把圆从set中去除，意味着扫描过了</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;set&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
using namespace std;
double x[40005],y[40005],r[40005];
int n;
typedef pair&lt;double ,int&gt; pdi;
bool inside(int i,int j)
{
	double dx=x[i]-x[j],dy=y[i]-y[j];
	return dx*dx+dy*dy&lt;=r[j]*r[j];
}
int main()
{
	cin&gt;&gt;n;
	for(int i=0;i&lt;n;i++)
		scanf(&quot;%lf%lf%lf&quot;,&amp;r[i],&amp;x[i],&amp;y[i]);
	
	vector&lt;pdi&gt; vt;       //存左右两边界 
	for(int i=0;i&lt;n;i++)
	{
		vt.push_back(make_pair(x[i]-r[i],i));
		vt.push_back(make_pair(x[i]+r[i],i+n));
	}
	sort(vt.begin(),vt.end());
	//扫描
	set&lt;pdi&gt; outers;    //set为了排序 
	vector&lt;int&gt; res;    //存放结果 
	for(int i=0;i&lt;vt.size();i++)
	{
		int id=vt[i].second%n;
		if(vt[i].second&lt;n)    //扫描到左 
		{
			set&lt;pdi&gt;::iterator it=outers.lower_bound(make_pair(y[id],id));
			if(it!=outers.end() &amp;&amp; inside(id,it-&gt;second)) continue;           //上面最近的圆 
			if(it!=outers.begin() &amp;&amp; inside(id,(--it)-&gt;second)) continue;     //下面最近的圆 
			res.push_back(id);
			outers.insert(make_pair(y[id],id));
		}
		else        //扫描到右 
			outers.erase(make_pair(y[id],id));
	} 
	
	sort(res.begin(),res.end());
	cout&lt;&lt;res.size()&lt;&lt;endl;
	for(int i=0;i&lt;res.size();i++)
		printf(&quot;%d%c&quot;,res[i]+1,i+1==res.size()? '\n' : ' ');
	return 0;
}
</code></pre>
<p>===========================================================================================================</p>
<h2 id="贪心">贪心</h2>
<p><a href="http://poj.org/problem?id=3069">3069</a></p>
<h3 id="题意-3">题意</h3>
<p>一条路上有n个路灯，每个路灯都能照亮左右的一段距离，问最少需要多少路灯才能使街道都亮着</p>
<h3 id="题解-9">题解</h3>
<p><!-- raw HTML omitted --><strong>greedy</strong></p>
<p>从最左开始向右延伸r，在r的范围内将最右的路灯点亮，此时这盏路灯将照亮左边和右边，从暗处的最左路灯开始，已知重复下去。
<!-- raw HTML omitted -->时间复杂度 O(n)<!-- raw HTML omitted --></p>
<p>!!!!需要将路灯位置排序</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;algorithm&gt;
using namespace std;
int r,n;
int x[1006];
int main()
{
	while(scanf(&quot;%d%d&quot;,&amp;r,&amp;n)==2 &amp;&amp; r!=-1)
	{
		for(int i=0;i&lt;n;i++)
			scanf(&quot;%d&quot;,&amp;x[i]);
		
		sort(x,x+n);                               // ！！！记得排序
		
		int j=0,ans=0;
		while(j&lt;n)
		{
			int s=x[j++];
			while(j&lt;n &amp;&amp; x[j]&lt;=s+r) j++;
			int p=x[j-1];
			while(j&lt;n &amp;&amp; p+r&gt;=x[j]) j++;
			ans++;
		} 
		printf(&quot;%d\n&quot;,ans);
	}
	return 0;
} 
</code></pre>
<p>===========================================================================================================</p>
<h2 id="贪心-1">贪心</h2>
<p><a href="http://poj.org/problem?id=3617">3617</a></p>
<h3 id="题意-4">题意</h3>
<p>给一个字符串s和空字符串p，每次进行以下操作之一</p>
<p>删除s的头部字符，加入到p的尾部</p>
<p>删除s的尾部字符，加入到p的尾部</p>
<p>最后s为空，p的字典序最小</p>
<h3 id="题解-10">题解</h3>
<p><!-- raw HTML omitted --><strong>greedy</strong></p>
<p>时间复杂度最坏 O($n^2$)</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
int n;
char s[2005];
int c=0;
int main()
{
	cin&gt;&gt;n;
	for(int i=0;i&lt;n;i++)
	{
		cin&gt;&gt;s[i];
	}
	int a=0,b=n-1;
	bool left=false;
	while(a&lt;=b)
	{
		for(int i=0;a+i&lt;=b;i++)
		{
			if(s[a+i]&lt;s[b-i])
			{
				left=true;
				break;
			}
			else if(s[a+i]&gt;s[b-i])
			{
				left=false;
				break;
			}
		}
		if(left) putchar(s[a++]);
		else putchar(s[b--]);
		c++;
		if(c%80==0) putchar('\n');
	}
	return 0;
}
</code></pre>
<p>===========================================================================================================</p>
<h2 id="01背包问题">01背包问题</h2>
<p><a href="http://poj.org/problem?id=3624">3624</a></p>
<h3 id="题解-11">题解</h3>
<p>基础01背包问题</p>
<p>如果用二维数组写的话就会MLE</p>
<p>猜测测试数据可能不会满，就随着数据动态申请内存，想侥幸过（可以用new/delete 或 malloc/free）结果还是MLE</p>
<p>这是MLE代码</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
//int dp[3410][12885];
int n,m;
//int w[3410];
//int v[3410];
int main()
{
	cin&gt;&gt;n&gt;&gt;m;
	int **dp,*w,*v;
	dp=new int*[n+3];
	for(int i=0;i&lt;n+3;i++)
		dp[i]=new int[m+3];
	w=new int[n+3];
	v=new int[n+3];
	for(int i=1;i&lt;=n;i++)
	{
		scanf(&quot;%d%d&quot;,&amp;w[i],&amp;v[i]);
	}
	
	//initialized
	for(int i=0;i&lt;=n;i++)
		dp[i][0]=0;
	for(int i=0;i&lt;=m;i++)
		dp[0][i]=0;
	for(int i=1;i&lt;=n;i++)
		for(int j=0;j&lt;=m;j++)
			if(j&lt;w[i])
				dp[i][j]=dp[i-1][j];
			else
				dp[i][j]=max(dp[i-1][j],dp[i-1][j-w[i]]+v[i]);
	
	cout&lt;&lt;dp[n][m];
	delete dp,w,v;
	return 0;
}
</code></pre>
<p>在discuss找了一圈也没有二维数组过的</p>
<p>优化成一维数组（节省内存，容易出bug）</p>
<p>AC代码</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
int n,m;
int dp[12885];
int w[3410];
int v[3410];
int main()
{
	cin&gt;&gt;n&gt;&gt;m;
	for(int i=1;i&lt;=n;i++)
		scanf(&quot;%d%d&quot;,&amp;w[i],&amp;v[i]);
	for(int i=1;i&lt;=n;i++)
		for(int j=m;j&gt;=w[i];j--)
			dp[j]=max(dp[j],dp[j-w[i]]+v[i]);
	cout&lt;&lt;dp[m];
	return 0;
}
</code></pre>
<p>这个内层循环是递减的，如果是递增则解决完全背包问题</p>
<p>由于01背包问题的dp[i]只依赖于dp[i-1]，内层循环递减时，dp[j]依赖的dp[j]为i-1的dp[j]</p>
<p>由于原来在二维数组中就是递增的，是同一个i，所以内层循环递增时，dp[j]依赖的dp[j]为i的dp[j]，符合完全背包问题</p>
<p>由于有两种状态（i和i-1），所以可利用奇偶性滚动数组实现</p>
<p>AC代码</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
int n,m;
int dp[2][12885];
int w[3410];
int v[3410];
int main()
{
	cin&gt;&gt;n&gt;&gt;m;
	for(int i=1;i&lt;=n;i++)
		scanf(&quot;%d%d&quot;,&amp;w[i],&amp;v[i]);
	for(int i=1;i&lt;=n;i++)
		for(int j=0;j&lt;=m;j++)
			if(j&lt;w[i])
				dp[i&amp;1][j]=dp[(i-1)&amp;1][j];
			else
				dp[i&amp;1][j]=max(dp[(i-1)&amp;1][j],dp[(i-1)&amp;1][j-w[i]]+v[i]);
	cout&lt;&lt;dp[n&amp;1][m];
	return 0;
}
</code></pre>
<p>===========================================================================================================</p>
<h2 id="2-sat">2-SAT</h2>
<p><a href="http://poj.org/problem?id=3683">3683</a></p>
<h3 id="题解-12">题解</h3>
<p>xi表示某一婚礼</p>
<p>xi为真表示在开始举行</p>
<p>xi为假表示在结束举行</p>
<p>对于两个婚礼</p>
<p>如果同在开始时间举行会产生冲突</p>
<p>则 ¬xi ∨ ¬xj 为真</p>
<p>遍历所有的关系对，检查是否产生冲突</p>
<p>如果产生冲突则有一个析取式成立</p>
<p>遍历完之后得到一个合取范式</p>
<p>这样就把问题转换成2-SAT</p>
<p>根据蕴含等值式</p>
<p>a ∨ b  ⇒ (a ∨ b) ∧ (b ∨ a) ⇒ (¬a → b) ∧ (¬b → a)</p>
<p>对于每一个蕴含式都可以构造一条有向边</p>
<p>最后scc分解</p>
<p>判断合取范式是否是可满足式，只需要检查¬xi 和 xi 是否在同一个强连通分量中</p>
<p>最后对于所在强连通分量的拓扑序，依次给出真值</p>
<p>ac代码</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;cstring&gt;
using namespace std;
int n;
int V;      
const int maxv=2005;                   
vector&lt;int&gt; G[maxv];           
vector&lt;int&gt; rG[maxv];
vector&lt;int&gt; vs;                  
bool used[maxv];                 
int cmp[maxv];                  
int s[1005],t[1005],d[1005];

void add_edge(int from,int to){
    G[from].push_back(to);
    rG[to].push_back(from);
}

void dfs(int v){
    used[v]=true;
    for(int i=0;i&lt;G[v].size();i++){
        if(!used[G[v][i]]) dfs(G[v][i]);
    }
    vs.push_back(v);
}

void rdfs(int v,int k){
    used[v]=true;
    cmp[v]=k;
    for(int i=0;i&lt;rG[v].size();i++){
        if(!used[rG[v][i]]) rdfs(rG[v][i],k);
    }
}

int kosaraju_scc(){
    memset(used,0,sizeof(used));
    vs.clear();
    for(int i=0;i&lt;V;i++) if(!used[i]) dfs(i);
    memset(used,0,sizeof(used));
    int k=0;
    for(int i=vs.size()-1;i&gt;=0;i--) if(!used[vs[i]]) rdfs(vs[i],k++);
    return k;
}

int main(){
	cin&gt;&gt;n;
	int t1,t2,t3,t4,t5;
	for(int i=0;i&lt;n;i++){
		scanf(&quot;%d:%d%d:%d%d&quot;,&amp;t1,&amp;t2,&amp;t3,&amp;t4,&amp;t5);
		s[i]=t1*60+t2;
		t[i]=t3*60+t4;
		d[i]=t5;
	}
	
	V=n*2;
	for(int i=0;i&lt;n;i++)for(int j=i+1;j&lt;n;j++){
		if( min( s[i]+d[i] , s[j]+d[j] ) &gt; max(s[i] , s[j])){
			add_edge(i,n+j);
			add_edge(j,n+i);
		}
		if(min(s[i]+d[i] , t[j]) &gt; max(s[i] , t[j]-d[j])){
			add_edge(i,j);
			add_edge(n+j,i+n);
		}
		if(min(t[i] , s[j]+d[j]) &gt; max(s[j] , t[i]-d[i])){
			add_edge(i+n,j+n);
			add_edge(j,i);
		}
		if(min(t[i] , t[j]) &gt; max(t[i]-d[i] , t[j]-d[j])){
			add_edge(n+i,j);
			add_edge(n+j,i);
		}
	}
	
	kosaraju_scc();
	
	for(int i=0;i&lt;n;i++){
		if(cmp[i]==cmp[i+n]){
			cout&lt;&lt;&quot;NO\n&quot;;
			return 0;
		}
	}
	
	cout&lt;&lt;&quot;YES\n&quot;;
	for(int i=0;i&lt;n;i++){
		if(cmp[i]&gt;cmp[i+n]){
			printf(&quot;%02d:%02d %02d:%02d\n&quot;,s[i]/60,s[i]%60,(s[i]+d[i])/60,(s[i]+d[i])%60);
		}
		else{
			printf(&quot;%02d:%02d %02d:%02d\n&quot;,(t[i]-d[i])/60,(t[i]-d[i])%60,t[i]/60,t[i]%60);
		}
	}
	return 0;
}
</code></pre>
<p>===========================================================================================================</p>
<h2 id="bfs-dfs-1">bfs dfs</h2>
<p><a href="http://poj.org/problem?id=3984">3984</a></p>
<h3 id="题解-13">题解</h3>
<p>dfs/bfs都行
基础bfs
（这个测试点只有一个，就是样例）
<!-- raw HTML omitted --><strong>时间复杂度O(mn)</strong></p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;map&gt;
#include&lt;vector&gt;
#include&lt;queue&gt;
#include&lt;algorithm&gt;
using namespace std;
int n,m;
int maze[7][7];
int d[7][7];
const int inf=0x3f3f3f3f;
typedef pair&lt;int,int&gt; pii; //表示坐标 
int sx,sy,gx,gy;  //起点终点 
int dx[]={0,0,1,-1};
int dy[]={1,-1,0,0};
map&lt;pii,pii &gt; mp;  //记录前驱节点,目的是记录路径 （如果记录路径就可以不用求最短距离） 
vector&lt;pii &gt; vt;   //记录路径 
void bfs()
{
	queue&lt;pii&gt; q;
	fill(d[0],d[0]+7*7,inf);
	q.push(pii(sx,sy));
	d[sx][sy]=0;
	while(q.size())
	{
		pii p=q.front();
		q.pop();
		if(p.first==gx and p.second==gy) break;    //很重要的终止判断条件
		for(int i=0;i&lt;4;i++)
		{
			int nx=p.first+dx[i],ny=p.second+dy[i];
			if(nx&gt;=0 and ny&gt;=0 and nx&lt;n and ny&lt;m and maze[nx][ny]==0 and d[nx][ny]==inf)  //inf的判断很重要
			{
				q.push(pii(nx,ny));
				d[nx][ny]=d[p.first][p.second]+1;
				mp[pii(nx,ny)]=pii(p.first,p.second);
			} 
		} 
	}
}
int main()
{
	//freopen(&quot;input.txt&quot;,&quot;r&quot;,stdin);
	n=5;
	m=5;
	for(int i=0;i&lt;n;i++)
		for(int j=0;j&lt;m;j++)
			cin&gt;&gt;maze[i][j];
	
	sx=0,sy=0,gx=4,gy=4;
	
	bfs();
	
	//cout&lt;&lt;d[gx][gy]&lt;&lt;endl;
	pii p;
	p=pii(gx,gy);
	while(p!=pii(sx,sy))
	{
		vt.push_back(p);
		p=mp[p];
	}
	
	reverse(vt.begin(),vt.end());
	printf(&quot;(%d, %d)\n&quot;,sx,sy);
	for(vector&lt;pii&gt;::iterator it=vt.begin();it!=vt.end();it++)
	{
		printf(&quot;(%d, %d)\n&quot;,it-&gt;first,it-&gt;second);
	}
	return 0;
}
</code></pre>
<h3 id="总结-3">总结</h3>
<p>一个经典的bfs模板就是用<!-- raw HTML omitted -->队列<!-- raw HTML omitted -->来控制广度优先</p>
<p>===========================================================================================================</p>
<h2 id="强连通分量-1">强连通分量</h2>
<p><a href="http://poj.org/problem?id=1236">1236</a></p>
<h3 id="题解-14">题解</h3>
<p>第一问就是求scc的数量，第二问就是求对每个scc出度为0的数量和入度为0的数量</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;
#include&lt;vector&gt;
using namespace std;
const int maxv = 105;
int V;                         
vector&lt;int&gt; G[maxv];           
vector&lt;int&gt; rG[maxv];
vector&lt;int&gt; vs;                  
bool used[maxv];                 
int cmp[maxv];      
int in[maxv],out[maxv];

void add_edge(int from,int to){
	G[from].push_back(to);
	rG[to].push_back(from);
}

void dfs(int v){
	used[v]=true;
	for(int i=0;i&lt;G[v].size();i++){
		if(!used[G[v][i]]) dfs(G[v][i]);
	}
	vs.push_back(v);
}

void rdfs(int v,int k){
	used[v]=true;
	cmp[v]=k;
	for(int i=0;i&lt;rG[v].size();i++){
		if(!used[rG[v][i]]) rdfs(rG[v][i],k);
	}
}

int kosaraju_scc(){
	memset(used,0,sizeof(used));
	vs.clear();
	for(int i=0;i&lt;V;i++) if(!used[i]) dfs(i);
	memset(used,0,sizeof(used));
	int k=0;
	for(int i=vs.size()-1;i&gt;=0;i--) if(!used[vs[i]]) rdfs(vs[i],k++);
	return k;
}

int main(){
	cin&gt;&gt;V;	
	for(int i=0;i&lt;V;i++){
		while(1){
			int tmp;
			cin&gt;&gt;tmp;
			if(tmp==0) break;
			tmp--;
			add_edge(i,tmp);			
		}
	}
	int k = kosaraju_scc();
	for(int i=0;i&lt;V;i++){
		for(int j=0;j&lt;G[i].size();j++){
			int to = G[i][j];
			if(cmp[i] != cmp[to]){
				in[cmp[to]]++;
				out[cmp[i]]++;
			}
		}
	}
	int ind =0;
	int outd = 0;
	for(int i=0;i&lt;k;i++){
		if(in[i]==0) ind++;
		if(out[i]==0) outd++;
	}
	int ans;
	if(k==1) ans = 0;else ans = max(ind,outd);
	cout&lt;&lt;ind&lt;&lt;endl;
	cout&lt;&lt;ans&lt;&lt;endl;
	return 0;
}
</code></pre>

    </div>
    <div class="article-footer">
<blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    <li class="post-copyright-link hidden-xs">
      <strong>Permalink: </strong>
      <a href="https://dyhgo.github.io/2020/01/poj/" title="poj" target="_blank" rel="external">https://dyhgo.github.io/2020/01/poj/</a>
    </li>
    <li class="post-copyright-license">
      <strong>License：</strong><a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN</a>
    </li>
  </ul>
</blockquote>

<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/dyhgo" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://dyhgo.github.io/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/dyhgo" target="_blank"><span class="text-dark">DYH</span><small class="ml-1x">244882973@qq</small></a></h3>
        <div>Be happy and independent</div>
      </div>
    </figure>
  </div>
</div>
    </div>
  </article>
<section id="comments">
</section>

</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="https://dyhgo.github.io/2020/01/%E7%AE%80%E6%98%93%E5%AF%B9%E6%8B%8D/" title="简易对拍"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;Older</span></a>
            </li>
            <li class="next">
                <a href="https://dyhgo.github.io/2020/02/graph-theory/"
                    title="Graph Theory"><span>Newer&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
            
            <li class="toggle-toc">
                <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false"
                    title="Catalogue" role="button">
                    <span>[&nbsp;</span><span>Catalogue</span>
                    <i class="text-collapsed icon icon-anchor"></i>
                    <i class="text-in icon icon-close"></i>
                    <span>]</span>
                </a>
            </li>
        </ul>
        
        <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal"
            data-target="#donateModal"><span>$</span></button>
        
        <div class="bar-right">
            <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter"
                data-mobile-sites="weibo,qq,wechat"></div>
        </div>
    </div>
</nav>


<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content donate">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                    aria-hidden="true">&times;</span></button>
            <div class="modal-body">
                <div class="donate-box">
                    <div class="donate-head">
                        <p>Maybe you could buy me a cup of coffee.</p>
                    </div>
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane fade active in" id="alipay">
                            <div class="donate-payimg">
                                <img src="https://dyhgo.github.io/donate/alipayimg.png"
                                    alt="Scan Qrcode" title="Scan" />
                            </div>
                            <p class="text-muted mv">Scan this qrcode</p>
                            <p class="text-grey">Open alipay app scan this qrcode, buy me a coffee!</p>
                        </div>
                        <div role="tabpanel" class="tab-pane fade" id="wechatpay">
                            <div class="donate-payimg">
                                <img src="https://dyhgo.github.io/donate/wechatpayimg.png"
                                    alt="Scan Qrcode" title="Scan" />
                            </div>
                            <p class="text-muted mv">Scan this qrcode</p>
                            <p class="text-grey">Open wechat app scan this qrcode, buy me a coffee!</p>
                        </div>
                    </div>
                    <div class="donate-footer">
                        <ul class="nav nav-tabs nav-justified" role="tablist">
                            <li role="presentation" class="active">
                                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay"
                                    aria-expanded="true"><i class="icon icon-alipay"></i> alipay</a>
                            </li>
                            <li role="presentation" class="">
                                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab"
                                    aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i>
                                    wechat payment</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/dyhgo" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://dyhgo.github.io/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    © dyh 2020
    <div class="publishby">
        base on<a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank"> pure</a>.
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/javascript.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/cpp.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/java.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/xml.min.js" defer></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>
<script src="https://dyhgo.github.io/js/application.min.bdeb64b910570b6c41badc6a05b7afb0c8ad9efd8525de3c7257d59e786326a3.js"></script>
<script src="https://dyhgo.github.io/js/plugin.min.51ff8c7317566f82259170fa36e09c4493adc9b9378b427a01ad3f017ebac7dd.js"></script>

<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            ROOT_URL: 'https:\/\/dyhgo.github.io',
            CONTENT_URL: 'https:\/\/dyhgo.github.io\/searchindex.json ',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script type="text/javascript" src="https://dyhgo.github.io/js/insight.min.a343cd9a5a7698336b28ef3a7c16a3a1b1d2d5fb17dc8ed04022bbe08cc5459073a15bdafa3a8a58cdd56080784bdd69fa70b1ae8597565c799c57ed00f0e120.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
<script>
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h1, h2, h3',
        
        hasInnerContainers: true,
    });
</script>

<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="https://cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '2f311539c5a5aef2912a',
        clientSecret: '8511ba39ff7db2afe2e983ed0c953f9dcd75fc22',
        repo: 'dyhgo.github.io',
        owner: 'dyhgo',
        admin: ['dyhgo'],
        id: md5(location.pathname),
        distractionFreeMode: true
    });
    gitalk.render('comments');
</script>

  </body>
</html>
